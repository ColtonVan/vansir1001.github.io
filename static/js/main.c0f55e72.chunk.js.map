{"version":3,"sources":["components/pin.tsx","utils/index.ts","auth-provider.ts","utils/use-async.ts","components/lib.tsx","context/auth-context.tsx","utils/http.ts","utils/task.ts","utils/url.ts","screens/Kanban/util.ts","utils/kanban.ts","utils/use-optimistic-options.ts","utils/project.ts","screens/project-list/util.ts","screens/project-list/list.tsx","utils/user.ts","components/id-select.tsx","components/user-select.tsx","screens/project-list/search-panel.tsx","screens/project-list/index.tsx","assets/softwareLogo.svg","components/drag-and-drop.tsx","utils/task-type.ts","assets/bug.svg","assets/task.svg","screens/Kanban/create-task.tsx","components/mark.tsx","screens/Kanban/kanban-column.tsx","screens/Kanban/create-kanban.tsx","components/task-type-select.tsx","screens/Kanban/search-panel.tsx","screens/Kanban/task-modal.tsx","screens/Kanban/index.tsx","screens/Epic/utils.ts","screens/Epic/create-epic.tsx","utils/epic.ts","screens/Epic/index.tsx","screens/project/index.tsx","screens/project-list/project-modal.tsx","components/project-popover.tsx","components/user-popover.tsx","authenticated-app.tsx","components/error.boundary.tsx","unauthenticated-app/login.tsx","unauthenticated-app/register.tsx","assets/logo.svg","assets/left.svg","assets/right.svg","unauthenticated-app/index.tsx","App.tsx","reportWebVitals.ts","context/index.tsx","index.tsx"],"names":["Pin","props","checked","onCheckedChange","restProps","count","value","onChange","num","cleanObject","obj","result","Object","keys","forEach","key","undefined","useDocumentTitle","title","keepOnUnmount","oldTitle","document","useEffect","resetRoute","window","location","href","origin","findIndexsFromListById","list","targetId","map","item","index","id","filter","localStorageKey","handleUserResponse","user","localStorage","setItem","token","apiUrl","process","logout","a","removeItem","defaultInitialState","stat","data","error","defaultConfig","throwOnError","useAsync","initialState","initialConfig","mountedRef","useRef","current","useMountedRef","useState","retry","setRetry","config","state","setState","setData","useCallback","setError","run","promise","runConfig","then","Error","prevState","catch","Promise","reject","isIdle","isLoading","isError","isSuccess","Row","styled","div","between","marginBottom","gap","FullPage","FullPageLoading","size","FullPageErrorFallback","ButtonNoPadding","Button","ErrorBox","message","Text","type","ScreenContainer","CursorSpan","span","AuthContext","createContext","displayName","bootstrapUser","getItem","http","AuthProvider","callback","children","setUser","queryClient","useQueryClient","clear","Provider","login","form","fetch","method","headers","body","JSON","stringify","res","ok","json","register","auth","useAuth","context","useContext","endpoint","customConfig","Authorization","toUpperCase","getOwnPropertyNames","length","qs","response","status","reload","useHttp","useTasks","param","client","useQuery","useUrlQueryParam","useSearchParams","searchParams","setSearchParam","useSetUrlSearchParam","useMemo","reduce","prev","get","params","o","fromEntries","useProjectIdInUrl","useLocation","pathname","match","Number","useProjectInUrl","useProject","useKanbansSearchParams","projectId","useKanbansQueryKey","useTaskSearchParams","typeId","processorId","tagId","name","useTasksQueryKey","useTaskModal","editingTaskId","setEditingTaskId","enabled","Boolean","useTask","editingTask","startEdit","close","useKanbans","useConfig","queryKey","onSuccess","invalidateQueries","onMutate","target","previousItems","getQueryData","setQueryData","old","onError","newItem","console","log","useDeleteConfig","useEditConfig","useAddConfig","useReorderKanbanConfig","sourceItem","fromId","toIndex","referenceId","splice","useReorderTaskConfig","kanbans","fromKanbanId","toKanbanId","insertingIndex","destinationIndex","orderingTasks","kanban","oldItem","kanbanId","preTasks","canPush","dragType","kanbanSortIndexs","deleteType","find","useProjects","useEditProject","useMutation","useAddProject","useProjectSearchParams","setParam","personId","useProjectQueryKey","useProjectModal","projectCreate","editingProjectId","setProjectModalQuery","editingProject","projectModalOpen","open","List","users","mutate","columns","disabled","render","arg1","project","pin","dataIndex","sorter","b","localeCompare","to","String","item1","created","dayjs","format","rowKey","pagination","More","useDeleteProject","deleteMutate","overlay","Item","onClick","Modal","confirm","content","okText","cancelText","onOk","deleteProject","confirmDeleteProject","useUsers","Option","Select","IdSelect","defaultOptionName","options","toNumber","option","isNaN","UserSelect","SearchPanel","css","layout","initialValues","placeholder","e","ProjectListScreen","delay","debouncedValue","setDebounce","timeout","setTimeout","clearTimeout","useDebounce","Container","loading","dataSource","whyDidYouRender","_image","_extends","assign","i","arguments","source","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgSoftwareLogo","_ref","svgRef","titleId","xmlns","xmlnsXlink","x","y","width","height","viewBox","enableBackground","xmlSpace","ref","ForwardRef","Drop","provided","React","isValidElement","cloneElement","droppableProps","innerRef","DropChild","forwardRef","Drag","draggableProps","dragHandleProps","useTaskTypes","CreateTask","addTask","useAddTask","mutateAsync","setName","inputMode","setInputMode","submit","toggle","onBlur","autoFocus","evt","onPressEnter","style","cursor","Mark","keyword","arr","split","str","color","TaskTypeIcon","taskTypes","taskType","marginLeft","marginTop","alt","src","taskIcon","bugIcon","TaskCard","task","KanbanColumn","allTasks","tasks","TaskContainer","direction","droppableId","dropProvided","taskIndex","draggableId","dragProvided","useDeleteKanban","CreateKanban","addKanban","useAddKanban","TaskTypeSelect","setSearchParams","labelCol","wrapperCol","TaskModal","useForm","useEditTask","editTask","editingLoading","useDeleteTask","deleteTask","deleteLoading","getFieldsValue","setFieldsValue","forceRender","confirmLoading","onCancel","resetFields","validateFields","visible","label","rules","required","textAlign","fontSize","KanbanScreen","currentProject","onDropEnd","useDragEnd","onDragEnd","ColumnsContainer","display","reorderKanban","useReorderKanban","reorderTask","useReorderTask","destination","fromTask","toTask","useEpicsSearchParams","useEpicsQueryKey","CreateEpic","useAddEpic","addEpic","onFinish","values","onClose","destroyOnClose","htmlType","EpicScreen","epics","useEpics","epicCreateOpen","setEpicCreateOpen","deleteEpic","useDeleteEpic","overflow","itemLayout","renderItem","epic","Meta","description","start","ProjectScreen","routeType","utils","useRouteType","Aside","mode","selectedKeys","Main","path","element","replace","Form","ProjectModal","mutateLoading","ProjectPopover","projects","pinnedProjects","ContentContainer","placement","UserPopover","AuthenticatedApp","PageHeader","Header","HeaderLeft","alignItems","HeaderRight","User","preventDefault","main","ErrorBoundary","fallbackRender","Component","Login","submitHandler","LongButton","block","Register","cpassword","password","UnauthenticatedApp","isRegister","setIsRegister","Background","ShadowCard","Title","h2","left","right","header","logo","Card","App","className","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","AppProviders","QueryClient","loadServer","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c0f55e72.chunk.js","sourcesContent":["import { Rate } from \"antd\";\nimport React, { ComponentProps } from \"react\";\n\ninterface PinProps extends ComponentProps<typeof Rate> {\n  checked: boolean;\n  onCheckedChange?: (checked: boolean) => void;\n}\n\nexport const Pin = (props: PinProps) => {\n  const { checked, onCheckedChange, ...restProps } = props;\n  return (\n    <Rate\n      count={1}\n      value={checked ? 1 : 0}\n      onChange={(num) => onCheckedChange?.(!!num)}\n      {...restProps}\n    />\n  );\n};\n","import { useEffect, useRef, useState } from \"react\";\nconst isFalsy = (value: unknown) => (value === 0 ? false : !value);\nconst isVoid = (value: unknown) =>\n  value === undefined || value === null || value === \"\";\nexport const cleanObject = (obj: { [key: string]: unknown }) => {\n  let result = { ...obj };\n  Object.keys(result).forEach((key) => {\n    if (isVoid(result[key])) {\n      delete result[key];\n    }\n  });\n  return result;\n};\nexport const useMount = (callback: () => void) => {\n  useEffect(() => {\n    callback();\n    //eslint-disable-next-line\n  }, []);\n};\nexport const useDebounce = <T>(value: T, delay?: number): T => {\n  const [debouncedValue, setDebounce] = useState(value);\n  useEffect(() => {\n    const timeout = setTimeout(() => {\n      setDebounce(value);\n    }, delay);\n    return () => clearTimeout(timeout);\n  }, [value]);\n  return debouncedValue;\n};\n// const throttle = (fn: (...a: any) => any, delay: number) => {\n//   let preTime = 0;\n//   return (...args: any) => {\n//     if (+new Date() - preTime >= delay || !preTime) {\n//       fn(args);\n//       preTime = +new Date();\n//     }\n//   };\n// };\nexport const useArray = <T>(initialArray: T[]) => {\n  const [arr, setArr] = useState(initialArray);\n  return {\n    add(value: T) {\n      setArr([...arr, value]);\n    },\n    clear() {\n      setArr([]);\n    },\n    removeIndex(index: number) {\n      const copiedArray = [...arr];\n      copiedArray.splice(index, 1);\n      setArr(copiedArray);\n    },\n  };\n};\nexport const useDocumentTitle = (\n  title: string,\n  keepOnUnmount: boolean = true\n) => {\n  const oldTitle = document.title;\n  useEffect(() => {\n    document.title = title;\n  }, [title]);\n  useEffect(() => {\n    return () => {\n      if (!keepOnUnmount) {\n        document.title = oldTitle;\n      }\n    };\n    //eslint-disable-next-line\n  }, []);\n};\nexport const resetRoute = () => (window.location.href = window.location.origin);\n/**\n * @param obj\n * @param keys\n */\nexport const subset = <\n  O extends { [key in string]: unknown },\n  K extends keyof O\n>(\n  obj: O,\n  keys: K[]\n) => {\n  const filteredEntries = Object.entries(obj).filter(([key]) =>\n    keys.includes(key as K)\n  );\n  return Object.fromEntries(filteredEntries) as Pick<O, K>;\n};\nexport const useMountedRef = () => {\n  const mountedRef = useRef(false);\n  useEffect(() => {\n    mountedRef.current = true;\n    return () => {\n      mountedRef.current = false;\n    };\n  });\n  return mountedRef;\n};\nexport const findIndexsFromListById = (\n  list: any[],\n  targetId: number\n): number[] => {\n  return list\n    .map((item, index: number) => ({ id: item.id, index }))\n    .filter((item: { id: number; index: number }) => item.id === targetId)\n    .map((item: { id: number; index: number }) => item.index);\n};\n","import { User } from \"./types/project\";\n\n//提供auth服务\nconst localStorageKey = \"__auth_provider_token__\";\n\nexport const getToken = () => window.localStorage.getItem(localStorageKey);\n\nexport const handleUserResponse = ({ user }: { user: User }) => {\n  window.localStorage.setItem(localStorageKey, user.token || \"\");\n  return user;\n};\n\nconst apiUrl = process.env.REACT_APP_API_URL;\nexport const login = (data: { username: string; password: string }) => {\n  return fetch(`${apiUrl}/login`, {\n    method: \"post\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify(data),\n  }).then(async (res) => {\n    if (res.ok) {\n      return handleUserResponse(await res.json());\n    } else {\n      return Promise.reject(await res.json());\n    }\n  });\n};\n\nexport const register = (data: { username: string; password: string }) => {\n  return fetch(`${apiUrl}/register`, {\n    method: \"post\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify(data),\n  }).then(async (res) => {\n    if (res.ok) {\n      return handleUserResponse(await res.json());\n    } else {\n      return Promise.reject(await res.json());\n    }\n  });\n};\n\nexport const logout = async () =>\n  window.localStorage.removeItem(localStorageKey);\n","import { useMountedRef } from \"./index\";\nimport { useCallback, useState } from \"react\";\n\ninterface State<D> {\n  error: Error | null;\n  data: D | null;\n  stat: \"idle\" | \"loading\" | \"error\" | \"success\";\n}\nconst defaultInitialState: State<null> = {\n  stat: \"idle\",\n  data: null,\n  error: null,\n};\nconst defaultConfig = {\n  throwOnError: false,\n};\nexport const useAsync = <D>(\n  initialState?: State<D>,\n  initialConfig?: typeof defaultConfig\n) => {\n  const mountedRef = useMountedRef();\n  const [retry, setRetry] = useState(() => () => {});\n  const config = { ...defaultConfig, ...initialConfig };\n  const [state, setState] = useState({\n    ...defaultInitialState,\n    ...initialState,\n  });\n  const setData = useCallback(\n    (data: D) => {\n      //如果页面挂载了才设置值\n      if (mountedRef.current) {\n        setState({\n          data,\n          stat: \"success\",\n          error: null,\n        });\n      }\n    },\n    [mountedRef]\n  );\n  const setError = (error: Error) => {\n    setState({\n      error,\n      stat: \"error\",\n      data: null,\n    });\n  };\n  //用来出发异步请求\n  const run = useCallback(\n    (promise: Promise<D>, runConfig?: { retry: () => Promise<D> }) => {\n      if (!promise || !promise.then) {\n        throw new Error(\"请传入Promise类型数据\");\n      }\n      setRetry(() => () => {\n        if (runConfig?.retry) {\n          run(runConfig.retry(), runConfig);\n        }\n      });\n      setState((prevState) => ({ ...prevState, stat: \"loading\" }));\n      return promise\n        .then((data) => {\n          setData(data);\n          return data;\n        })\n        .catch((error) => {\n          //catch会处理掉异常，得主动抛出异常才能被调用时捕捉到\n          setError(error);\n          if (config.throwOnError) return Promise.reject(error);\n          return error;\n        });\n    },\n    [config.throwOnError, setData]\n  );\n  return {\n    isIdle: state.stat === \"idle\",\n    isLoading: state.stat === \"loading\",\n    isError: state.stat === \"error\",\n    isSuccess: state.stat === \"success\",\n    run,\n    setData,\n    setError,\n    retry,\n    ...state,\n  };\n};\n","import styled from \"@emotion/styled\";\nimport { Button, Spin, Typography } from \"antd\";\nimport { DevTools } from \"jira-dev-tool\";\nexport const Row = styled.div<{\n  gap?: number | boolean;\n  between?: boolean;\n  marginBottom?: number;\n}>`\n  display: flex;\n  align-items: center;\n  justify-content: ${(props) => (props.between ? \"space-between\" : undefined)};\n  margin-bottom: ${(props) =>\n    props.marginBottom !== undefined ? props.marginBottom + \"rem\" : undefined};\n  > * {\n    margin-top: 0;\n    margin-bottom: 0;\n    margin-right: ${(props) =>\n      typeof props.gap === \"number\"\n        ? props.gap + \"rem\"\n        : props.gap\n        ? \"2rem\"\n        : undefined};\n  }\n`;\nconst FullPage = styled.div`\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nexport const FullPageLoading = () => (\n  <FullPage>\n    <Spin size=\"large\" />\n  </FullPage>\n);\n\nexport const FullPageErrorFallback = ({ error }: { error: Error | null }) => (\n  <FullPage>\n    <DevTools />\n    <ErrorBox error={error} />\n  </FullPage>\n);\n\nexport const ButtonNoPadding = styled(Button)`\n  padding: 0;\n`;\n\n//类型守卫\nconst isError = (value: any): value is Error => value?.message;\n\nexport const ErrorBox = ({ error }: { error: unknown }) => {\n  if (isError(error)) {\n    return <Typography.Text type=\"danger\">{error.message}</Typography.Text>;\n  }\n  return null;\n};\n\nexport const ScreenContainer = styled.div`\n  padding: 3.2rem;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n`;\n\nexport const CursorSpan = styled.span`\n  cursor: pointer;\n`;\n","import { createContext, useContext, ReactNode } from \"react\";\nimport * as auth from \"../auth-provider\";\nimport { useMount } from \"../utils\";\nimport { http } from \"../utils/http\";\nimport { useAsync } from \"../utils/use-async\";\nimport { FullPageErrorFallback, FullPageLoading } from \"../components/lib\";\nimport { useQueryClient } from \"react-query\";\nimport { User } from \"../types/project\";\ninterface AuthContextProps {\n  user: User | null;\n  login: (form: AuthForm) => Promise<void>;\n  register: (form: AuthForm) => Promise<void>;\n  logout: () => Promise<void>;\n}\nconst AuthContext = createContext<AuthContextProps | undefined>(undefined);\nAuthContext.displayName = \"AuthContext\";\n\ninterface AuthForm {\n  username: string;\n  password: string;\n}\nconst bootstrapUser = async () => {\n  let user = null;\n  const token = auth.getToken();\n  if (token) {\n    const data = await http(\"me\", { token });\n    user = data.user;\n  }\n  return user;\n};\nexport const AuthProvider = ({ children }: { children: ReactNode }) => {\n  const {\n    data: user,\n    error,\n    isLoading,\n    isIdle,\n    isError,\n    run,\n    setData: setUser,\n  } = useAsync<User | null>();\n  const login = (form: AuthForm) => auth.login(form).then(setUser);\n  const register = (form: AuthForm) => auth.register(form).then(setUser);\n  const logout = () => auth.logout().then(() => setUser(null));\n  const queryClient = useQueryClient();\n  useMount(() => {\n    run(bootstrapUser());\n    queryClient.clear();\n  });\n  if (isIdle || isLoading) {\n    return <FullPageLoading />;\n  }\n  if (isError) {\n    return <FullPageErrorFallback error={error} />;\n  }\n\n  return (\n    <AuthContext.Provider value={{ user, login, register, logout }}>\n      {children}\n    </AuthContext.Provider>\n  );\n};\nexport const useAuth = () => {\n  const context = useContext(AuthContext);\n  if (!context) throw new Error(\"useAuth必须在AuthProvider中使用\");\n  return context;\n};\n","import { useAuth } from \"./../context/auth-context\";\nimport qs from \"qs\";\nimport * as auth from \"../auth-provider\";\nimport { useCallback } from \"react\";\nconst apiUrl = process.env.REACT_APP_API_URL;\ninterface Config extends RequestInit {\n  token?: string;\n  data?: object;\n}\nexport const http = async (\n  endpoint: string,\n  { data, token, headers, ...customConfig }: Config = {}\n) => {\n  const config = {\n    method: \"GET\",\n    headers: {\n      Authorization: token ? `Bearer ${token}` : \"\",\n      \"Content-Type\": data ? \"application/json\" : \"\",\n    },\n    ...customConfig,\n  };\n  if (config.method.toUpperCase() === \"GET\") {\n    endpoint +=\n      Object.getOwnPropertyNames(data ?? {}).length !== 0\n        ? `?${qs.stringify(data)}`\n        : \"\";\n  } else {\n    config.body = JSON.stringify(data || {});\n  }\n  return window\n    .fetch(`${apiUrl}/${endpoint}`, config)\n    .then(async (response) => {\n      if (response.status === 401) {\n        await auth.logout();\n        window.location.reload();\n        return Promise.reject({ message: \"请重新登录\" });\n      }\n      const data = await response.json();\n      if (response.ok) {\n        return data;\n      } else {\n        return Promise.reject(data);\n      }\n    });\n};\nexport const useHttp = () => {\n  const { user } = useAuth();\n  return useCallback(\n    (...[endpoint, config]: Parameters<typeof http>) =>\n      http(endpoint, { ...config, token: user?.token }),\n    [user?.token]\n  );\n};\n","import { SortProps } from \"./kanban\";\nimport { Task } from \"./../types/task\";\nimport { QueryKey, useMutation, useQuery } from \"react-query\";\nimport { cleanObject } from \".\";\nimport { useHttp } from \"./http\";\nimport {\n  useAddConfig,\n  useDeleteConfig,\n  useEditConfig,\n  useReorderTaskConfig,\n} from \"./use-optimistic-options\";\n\ninterface NewTask extends Task {\n  processor: number;\n}\nexport const useTasks = (param?: Partial<NewTask>) => {\n  const client = useHttp();\n  return useQuery<Task[]>([\"tasks\", param], () =>\n    client(\"tasks\", { data: cleanObject(param ?? {}) })\n  );\n};\nexport const useAddTask = (queryKey: QueryKey) => {\n  const client = useHttp();\n  return useMutation((params: Partial<Task>) => {\n    return client(`tasks`, { data: params, method: \"POST\" });\n  }, useAddConfig(queryKey));\n};\nexport const useTask = (id?: number) => {\n  const client = useHttp();\n  return useQuery<Task>([\"task\", id], () => client(`tasks/${id}`), {\n    enabled: Boolean(id),\n  });\n};\nexport const useEditTask = (queryKey: QueryKey) => {\n  const client = useHttp();\n  return useMutation(\n    (params: Partial<Task>) =>\n      client(`tasks/${params.id}`, { data: params, method: \"PATCH\" }),\n    useEditConfig(queryKey)\n  );\n};\nexport const useDeleteTask = (queryKey: QueryKey) => {\n  const client = useHttp();\n  return useMutation(\n    ({ id }: { id: number }) => client(`tasks/${id}`, { method: \"DELETE\" }),\n    useDeleteConfig(queryKey)\n  );\n};\nexport const useReorderTask = (queryKey: QueryKey) => {\n  const client = useHttp();\n  return useMutation(\n    (params: SortProps) =>\n      client(`tasks/reorder`, { method: \"POST\", data: params }),\n    useReorderTaskConfig(queryKey)\n  );\n};\n","import { useMemo } from \"react\";\nimport { URLSearchParamsInit, useSearchParams } from \"react-router-dom\";\nimport { cleanObject } from \".\";\n\nexport const useUrlQueryParam = <K extends string>(keys: K[]) => {\n  const [searchParams] = useSearchParams();\n  const setSearchParam = useSetUrlSearchParam();\n  return [\n    useMemo(\n      () =>\n        keys.reduce((prev, key) => {\n          return { ...prev, [key]: searchParams.get(key) || \"\" };\n        }, {} as { [key in K]: string }),\n      //eslint-disable-next-line\n      [searchParams]\n    ),\n    (params: Partial<{ [key in K]: unknown }>) => {\n      // const o = { ...Object.fromEntries(searchParams), ...params };\n      // return setSearchParam(o);\n      return setSearchParam(params);\n    },\n  ] as const; //数组转元组\n};\nexport const useSetUrlSearchParam = () => {\n  const [searchParams, setSearchParam] = useSearchParams();\n  return (params: Record<string, unknown>) => {\n    const o = cleanObject({\n      ...Object.fromEntries(searchParams),\n      ...params,\n    }) as URLSearchParamsInit;\n    return setSearchParam(o);\n  };\n};\n","import { useTask } from \"./../../utils/task\";\nimport { useCallback, useMemo } from \"react\";\nimport { useUrlQueryParam } from \"./../../utils/url\";\nimport { useLocation } from \"react-router\";\nimport { useProject } from \"../../utils/project\";\n\nexport const useProjectIdInUrl = () => {\n  const { pathname } = useLocation();\n  const id = pathname.match(/projects\\/(\\d+)/)?.[1];\n  return Number(id);\n};\n\nexport const useProjectInUrl = () => useProject(useProjectIdInUrl());\n\nexport const useKanbansSearchParams = () => ({\n  projectId: useProjectIdInUrl(),\n});\n\nexport const useKanbansQueryKey = () => [\"kanbans\", useKanbansSearchParams()];\n\nexport const useTaskSearchParams = () => {\n  const [param] = useUrlQueryParam([\"name\", \"typeId\", \"processorId\", \"tagId\"]);\n  const projectId = useProjectIdInUrl();\n  // const debouncedName = useDebounce(param.name, 0);\n  return useMemo(\n    () => ({\n      projectId,\n      typeId: Number(param.typeId) || undefined,\n      processorId: Number(param.processorId) || undefined,\n      tagId: Number(param.tagId) || undefined,\n      // name: debouncedName,\n      name: param.name,\n    }),\n    [projectId, param]\n  );\n};\n\nexport const useTasksQueryKey = () => [\"tasks\", useTaskSearchParams()];\nexport const useTaskModal = () => {\n  const [{ editingTaskId }, setEditingTaskId] = useUrlQueryParam([\n    \"editingTaskId\",\n  ]);\n  const { data: editingTask, isLoading } = useTask(Number(editingTaskId));\n  const startEdit = useCallback(\n    (id: number) => setEditingTaskId({ editingTaskId: id }),\n    [setEditingTaskId]\n  );\n  const close = useCallback(\n    () => setEditingTaskId({ editingTaskId: \"\" }),\n    [setEditingTaskId]\n  );\n  return {\n    editingTaskId,\n    editingTask,\n    isLoading,\n    startEdit,\n    close,\n  };\n};\n","import { QueryKey, useMutation, useQuery } from \"react-query\";\nimport { cleanObject } from \".\";\nimport { Kanban } from \"../types/kanban\";\nimport { useHttp } from \"./http\";\nimport {\n  useAddConfig,\n  useDeleteConfig,\n  useReorderKanbanConfig,\n} from \"./use-optimistic-options\";\n\nexport const useKanbans = (param?: Partial<Kanban>) => {\n  const client = useHttp();\n  return useQuery<Kanban[]>([\"kanbans\", param], () =>\n    client(\"kanbans\", { data: cleanObject(param ?? {}) })\n  );\n};\nexport const useAddKanban = (queryKey: QueryKey) => {\n  const client = useHttp();\n  return useMutation((params: Partial<Kanban>) => {\n    return client(`kanbans`, { data: params, method: \"POST\" });\n  }, useAddConfig(queryKey));\n};\nexport const useDeleteKanban = (queryKey: QueryKey) => {\n  const client = useHttp();\n  return useMutation(\n    ({ id }: { id: number }) => client(`kanbans/${id}`, { method: \"DELETE\" }),\n    useDeleteConfig(queryKey)\n  );\n};\nexport interface SortProps {\n  fromId: number;\n  referenceId: number;\n  type: \"before\" | \"after\";\n  fromKanbanId?: number;\n  toKanbanId?: number;\n}\nexport const useReorderKanban = (queryKey: QueryKey) => {\n  const client = useHttp();\n  return useMutation(\n    (params: SortProps) =>\n      client(`kanbans/reorder`, { method: \"POST\", data: params }),\n    useReorderKanbanConfig(queryKey)\n  );\n};\n","import { Task } from \"types/task\";\nimport { useKanbansSearchParams } from \"./../screens/Kanban/util\";\nimport { useKanbans } from \"./kanban\";\nimport { Kanban } from \"./../types/kanban\";\nimport { QueryKey, useQueryClient } from \"react-query\";\nimport { findIndexsFromListById } from \"utils\";\n\nconst useConfig = (\n  queryKey: QueryKey,\n  callback: (target: any, old?: any[]) => any[]\n) => {\n  const queryClient = useQueryClient();\n  return {\n    onSuccess: () => queryClient.invalidateQueries(queryKey[0] as string),\n    onMutate: (target: any) => {\n      const previousItems = queryClient.getQueryData(queryKey);\n      queryClient.setQueryData(queryKey, (old?: any[]) => {\n        return callback(target, old || []);\n      });\n      return { previousItems };\n    },\n    onError(error: any, newItem: any, context: any) {\n      console.log({ error, newItem, context });\n      queryClient.setQueryData(queryKey, context.previousItems);\n    },\n  };\n};\nexport const useDeleteConfig = (queryKey: QueryKey) =>\n  useConfig(\n    queryKey,\n    (target, old: any) =>\n      old?.filter((item: any) => item.id !== target.id) || []\n  );\nexport const useEditConfig = (queryKey: QueryKey) =>\n  useConfig(queryKey, (target, old: any) =>\n    old?.map((item: any) =>\n      item.id === target.id ? { ...item, ...target } : item\n    )\n  );\nexport const useAddConfig = (queryKey: QueryKey) =>\n  useConfig(queryKey, (target, old: any) => [...old, target]);\n\nexport const useReorderKanbanConfig = (queryKey: QueryKey) =>\n  useConfig(queryKey, (target, old: any) => {\n    const findIndexsFromListById = (targetId: number): number[] => {\n      return old\n        .map((item: Kanban, index: number) => ({ id: item.id, index }))\n        .filter((item: { id: number; index: number }) => item.id === targetId)\n        .map((item: { id: number; index: number }) => item.index);\n    };\n    let sourceItem = { ...old[findIndexsFromListById(target.fromId)[0]] };\n    let toIndex = findIndexsFromListById(target.referenceId)[0];\n    if (target.type === \"before\") {\n      old.splice(toIndex, 0, sourceItem);\n      old.splice(findIndexsFromListById(target.fromId)[1], 1);\n    } else if (target.type === \"after\") {\n      old.splice(toIndex + 1, 0, sourceItem);\n      old.splice(findIndexsFromListById(target.fromId)[0], 1);\n    }\n    return old;\n  });\n\nexport const useReorderTaskConfig = (queryKey: QueryKey) => {\n  const { data: kanbans } = useKanbans(useKanbansSearchParams());\n  return useConfig(queryKey, (target, old: any) => {\n    const { fromKanbanId, toKanbanId, referenceId, fromId } = target;\n    if (fromKanbanId === toKanbanId) {\n      let sourceItem = { ...old[findIndexsFromListById(old, fromId)[0]] };\n      const destinationIndex = findIndexsFromListById(old, referenceId)[0];\n      //往下拖-after：插入到destinationItem的下面\n      //往上拖-before：插入到destinationItem的上面\n      let insertingIndex;\n      if (target.type === \"after\") {\n        insertingIndex = destinationIndex + 1;\n      } else if (target.type === \"before\") {\n        insertingIndex = destinationIndex;\n      }\n      //在插入位置插入sourceItem\n      old.splice(insertingIndex, 0, sourceItem);\n      //往下拖-after：插入后要删第0个sourceItem\n      //往上拖-before：插入后要删除第1个sourceItem\n      if (target.type === \"after\") {\n        old.splice(findIndexsFromListById(old, fromId)[0], 1);\n      } else if (target.type === \"before\") {\n        old.splice(findIndexsFromListById(old, fromId)[1], 1);\n      }\n      return old;\n    } else {\n      //按看板排序的任务数组\n      let orderingTasks =\n        kanbans?.reduce<Task[]>(\n          (prev: Kanban[], kanban: Kanban) => [\n            ...prev,\n            ...old.filter((oldItem: Task) => oldItem.kanbanId === kanban.id),\n          ],\n          []\n        ) || [];\n      const preTasks = (() => {\n        let canPush = true;\n        return orderingTasks.reduce((prev: Task[], item: Task) => {\n          if (\n            prev.length &&\n            prev[prev.length - 1].kanbanId === toKanbanId &&\n            item.kanbanId !== toKanbanId\n          )\n            canPush = false;\n          if (canPush) return [...prev, item];\n          return [...prev];\n        }, []);\n      })();\n      const destinationIndex =\n        referenceId === undefined\n          ? preTasks.length - 1\n          : findIndexsFromListById(orderingTasks, referenceId)[0];\n      const sourceItem = {\n        ...orderingTasks[findIndexsFromListById(orderingTasks, fromId)[0]],\n        kanbanId: toKanbanId,\n      };\n      //控制插入位置在之前还是之后\n      let dragType = referenceId === undefined ? \"after\" : \"before\";\n      const kanbanSortIndexs =\n        kanbans?.map((item, index) => ({\n          ...item,\n          index,\n        })) || [];\n      let toKanbanIndex =\n        kanbanSortIndexs.find((item) => item.id === toKanbanId)?.index || 0;\n      let fromKanbanIndex =\n        kanbanSortIndexs.find((item) => item.id === fromKanbanId)?.index || 0;\n      //控制删除位置是第0个还是第1个\n      let deleteType = toKanbanIndex > fromKanbanIndex ? \"after\" : \"before\";\n      if (dragType === \"before\") {\n        orderingTasks?.splice(destinationIndex, 0, sourceItem);\n      } else if (dragType === \"after\") {\n        orderingTasks?.splice(destinationIndex + 1, 0, sourceItem);\n      }\n      if (deleteType === \"before\") {\n        orderingTasks?.splice(\n          findIndexsFromListById(orderingTasks, fromId)[1],\n          1\n        );\n      } else if (deleteType === \"after\") {\n        orderingTasks?.splice(\n          findIndexsFromListById(orderingTasks, fromId)[0],\n          1\n        );\n      }\n      return orderingTasks;\n    }\n  });\n};\n","import {\n  useAddConfig,\n  useDeleteConfig,\n  useEditConfig,\n} from \"./use-optimistic-options\";\nimport { cleanObject } from \"./index\";\nimport { useHttp } from \"./http\";\nimport {\n  QueryKey,\n  useMutation,\n  useQuery,\n  // , useQueryClient\n} from \"react-query\";\nimport { Project } from \"../types/project\";\n// import {\n//   useProjectQueryKey,\n//   useProjectSearchParams,\n// } from \"../screens/project-list/util\";\nexport const useProjects = (param?: Partial<Project>) => {\n  const client = useHttp();\n  return useQuery<Project[]>([\"projects\", param], () =>\n    client(\"projects\", { data: cleanObject(param ?? {}) })\n  );\n};\nexport const useEditProject = (queryKey: QueryKey) => {\n  const client = useHttp();\n  // const queryClient = useQueryClient();\n  // const [searchParams] = useProjectSearchParams();\n  // const queryKey = [\"projects\", searchParams];\n  return useMutation(\n    (params: Partial<Project>) =>\n      client(`projects/${params.id}`, { data: params, method: \"PATCH\" }),\n    useEditConfig(queryKey)\n    // {\n    //   onSuccess: () => queryClient.invalidateQueries(\"projects\"),\n    //   onMutate: (target) => {\n    //     const previousItems = queryClient.getQueryData(queryKey);\n    //     queryClient.setQueryData(\n    //       queryKey,\n    //       (old?: Project[]) =>\n    //         old?.map((item) =>\n    //           item.id === target.id ? { ...item, ...target } : item\n    //         ) || []\n    //     );\n    //     return { previousItems };\n    //   },\n    //   onError(error, newItem, context: any) {\n    //     queryClient.setQueryData(queryKey, context.previousItems);\n    //   },\n    // }\n  );\n};\nexport const useAddProject = (queryKey: QueryKey) => {\n  const client = useHttp();\n  // const queryClient = useQueryClient();\n  return useMutation(\n    (params: Partial<Project>) =>\n      client(`projects`, { data: params, method: \"POST\" }),\n    useAddConfig(queryKey)\n    // {\n    //   onSuccess: () => queryClient.invalidateQueries(\"projects\"),\n    // }\n  );\n};\n\nexport const useDeleteProject = (queryKey: QueryKey) => {\n  const client = useHttp();\n  return useMutation(\n    ({ id }: { id: number }) => client(`projects/${id}`, { method: \"DELETE\" }),\n    useDeleteConfig(queryKey)\n  );\n};\n\nexport const useProject = (id?: number) => {\n  const client = useHttp();\n  return useQuery<Project>([\"project\", id], () => client(`projects/${id}`), {\n    enabled: Boolean(id),\n  });\n};\n","import { useSetUrlSearchParam } from \"./../../utils/url\";\nimport { useMemo } from \"react\";\nimport { useProject } from \"../../utils/project\";\nimport { useUrlQueryParam } from \"../../utils/url\";\n\nexport const useProjectSearchParams = () => {\n  const [param, setParam] = useUrlQueryParam([\"name\", \"personId\"]);\n  return [\n    useMemo(\n      () => ({\n        ...param,\n        personId: Number(param.personId) || undefined,\n      }),\n      [param]\n    ),\n    setParam,\n  ] as const;\n};\n\nexport const useProjectQueryKey = () => [\n  \"projects\",\n  useProjectSearchParams()[0],\n];\n\nexport const useProjectModal = () => {\n  const [{ projectCreate, editingProjectId }] = useUrlQueryParam([\n    \"projectCreate\",\n    \"editingProjectId\",\n  ]);\n  const setProjectModalQuery = useSetUrlSearchParam();\n  const { data: editingProject, isLoading } = useProject(\n    Number(editingProjectId)\n  );\n  const open = () => setProjectModalQuery({ projectCreate: true });\n  const close = () => {\n    setProjectModalQuery({\n      projectCreate: undefined,\n      editingProjectId: undefined,\n    });\n  };\n  const startEdit = (id: number) =>\n    setProjectModalQuery({ editingProjectId: id });\n  return {\n    projectModalOpen: projectCreate === \"true\" || Boolean(editingProjectId),\n    open,\n    close,\n    startEdit,\n    editingProject,\n    isLoading,\n  };\n};\n","import { Dropdown, Table, TableProps, Menu, Modal } from \"antd\";\nimport dayjs from \"dayjs\";\nimport { Link } from \"react-router-dom\";\nimport { Pin } from \"../../components/pin\";\nimport { useDeleteProject, useEditProject } from \"../../utils/project\";\nimport { ButtonNoPadding } from \"../../components/lib\";\nimport { useProjectModal, useProjectQueryKey } from \"./util\";\nimport { Project, User } from \"../../types/project\";\n\ninterface ListProps extends TableProps<Project> {\n  users: User[];\n}\nexport const List = ({ users, ...props }: ListProps) => {\n  const { mutate } = useEditProject(useProjectQueryKey());\n  const pinProject = (id: number) => (pin: boolean) => mutate({ id, pin });\n  const columns = [\n    {\n      title: <Pin checked={true} disabled={true} />,\n      render(arg1: null, project: Project) {\n        return (\n          <Pin onCheckedChange={pinProject(project.id)} checked={project.pin} />\n        );\n      },\n    },\n    {\n      dataIndex: \"name\",\n      title: \"名称\",\n      sorter: (a: Project, b: Project) => a.name.localeCompare(b.name),\n      render(name: string, project: Project) {\n        return <Link to={String(project.id)}>{name}</Link>;\n      },\n    },\n    {\n      dataIndex: \"organization\",\n      title: \"部门\",\n    },\n    {\n      dataIndex: \"personId\",\n      title: \"负责人\",\n      render: (personId: number) =>\n        users.find((item1) => item1.id === personId)?.name ?? \"未知\",\n    },\n    {\n      dataIndex: \"created\",\n      title: \"创建时间\",\n      render: (created: number) =>\n        created ? dayjs(created).format(\"YYYY-MM-DD\") : \"无\",\n    },\n    {\n      render(value: undefined, project: Project) {\n        return <More project={project} />;\n      },\n    },\n  ];\n  return <Table rowKey=\"id\" pagination={false} columns={columns} {...props} />;\n};\nconst More = ({ project }: { project: Project }) => {\n  const { startEdit } = useProjectModal();\n  const { mutate: deleteMutate } = useDeleteProject(useProjectQueryKey());\n  const editProject = (id: number) => () => startEdit(id);\n  const deleteProject = (project: Project) => deleteMutate(project);\n  const confirmDeleteProject = (project: Project) => () => {\n    Modal.confirm({\n      title: \"确定删除这个项目吗？\",\n      content: \"点击确定删除\",\n      okText: \"确定\",\n      cancelText: \"取消\",\n      onOk() {\n        deleteProject(project);\n      },\n    });\n  };\n  return (\n    <Dropdown\n      overlay={\n        <Menu>\n          <Menu.Item key=\"edit\" onClick={editProject(project.id)}>\n            编辑\n          </Menu.Item>\n          <Menu.Item key=\"delete\" onClick={confirmDeleteProject(project)}>\n            删除\n          </Menu.Item>\n        </Menu>\n      }\n    >\n      <ButtonNoPadding type=\"link\">...</ButtonNoPadding>\n    </Dropdown>\n  );\n};\n","import { cleanObject } from \"./index\";\nimport { useEffect } from \"react\";\nimport { useAsync } from \"./use-async\";\nimport { useHttp } from \"./http\";\nimport { User } from \"../types/project\";\nexport const useUsers = (param?: Partial<User>) => {\n  const client = useHttp();\n  const { run, ...result } = useAsync<User[]>();\n  useEffect(() => {\n    run(client(\"users\", { data: cleanObject(param ?? {}) }));\n    //eslint-disable-next-line\n  }, [param]);\n  return result;\n};\n","import { Select } from \"antd\";\nimport { ComponentProps } from \"react\";\nimport { Raw } from \"../types\";\n\nconst { Option } = Select;\n\ntype SelectProps = ComponentProps<typeof Select>;\n\ninterface IdSelectProps\n  extends Omit<\n    SelectProps,\n    \"value\" | \"onChange\" | \"defaultOptionName\" | \"options\"\n  > {\n  value?: Raw | null | undefined;\n  onChange?: (value?: number) => void;\n  defaultOptionName?: string;\n  options?: { name: string; id: number }[];\n}\n\nexport const IdSelect = (props: IdSelectProps) => {\n  const { value, onChange, defaultOptionName, options, ...restProps } = props;\n  return (\n    <Select\n      value={toNumber(value)}\n      onChange={(value) => onChange?.(toNumber(value) || undefined)}\n      {...restProps}\n    >\n      {defaultOptionName ? (\n        <Option value={0}>{defaultOptionName}</Option>\n      ) : null}\n      {options?.map((option) => (\n        <Option key={option.id} value={option.id}>\n          {option.name}\n        </Option>\n      ))}\n    </Select>\n  );\n};\nconst toNumber = (value: unknown) => (isNaN(Number(value)) ? 0 : Number(value));\n","import { ComponentProps } from \"react\";\nimport { useUsers } from \"../utils/user\";\nimport { IdSelect } from \"./id-select\";\n\nexport const UserSelect = (props: ComponentProps<typeof IdSelect>) => {\n  const { data: users } = useUsers();\n  return <IdSelect options={users || []} {...props}></IdSelect>;\n};\n","/** @jsxImportSource @emotion/react */\n// import { jsx } from \"@emotion/react\";\nimport { Form, Input } from \"antd\";\nimport { UserSelect } from \"../../components/user-select\";\nimport { Project, User } from \"../../types/project\";\n\ninterface SearchPanelProps {\n  users: User[];\n  param: Partial<Pick<Project, \"name\" | \"personId\">>;\n  setParam: (param: SearchPanelProps[\"param\"]) => void;\n}\nexport const SearchPanel = ({ param, setParam, users }: SearchPanelProps) => {\n  return (\n    <Form\n      css={{ marginBottom: \"2rem\" }}\n      layout=\"inline\"\n      initialValues={{ name: param.name, personId: param.personId }}\n    >\n      <Form.Item name=\"name\">\n        <Input\n          placeholder=\"项目名\"\n          type=\"text\"\n          onChange={(e) => setParam({ ...param, name: e.target.value })}\n        />\n      </Form.Item>\n      <Form.Item name=\"personId\">\n        <UserSelect\n          value={param.personId}\n          onChange={(value) => setParam({ ...param, personId: value })}\n          defaultOptionName=\"负责人\"\n        />\n      </Form.Item>\n    </Form>\n  );\n};\n","import { List } from \"./list\";\nimport { SearchPanel } from \"./search-panel\";\nimport { useDebounce, useDocumentTitle } from \"../../utils\";\nimport styled from \"@emotion/styled\";\nimport { useProjects } from \"../../utils/project\";\nimport { useUsers } from \"../../utils/user\";\nimport { useProjectModal, useProjectSearchParams } from \"./util\";\nimport { ButtonNoPadding, ErrorBox, Row } from \"../../components/lib\";\nexport const ProjectListScreen = () => {\n  const { open } = useProjectModal();\n  const [param, setParam] = useProjectSearchParams();\n  const { data: list, error, isLoading } = useProjects(useDebounce(param, 400));\n  const { data: users } = useUsers();\n  useDocumentTitle(\"项目列表\", false);\n  return (\n    <Container>\n      <Row between={true}>\n        <h1>项目列表</h1>\n        <ButtonNoPadding onClick={open} type=\"link\">\n          创建项目\n        </ButtonNoPadding>\n      </Row>\n      <SearchPanel param={param} setParam={setParam} users={users || []} />\n      <ErrorBox error={error} />\n      <List\n        loading={isLoading}\n        dataSource={\n          list?.map((project) => ({ ...project, key: project.id })) || []\n        }\n        users={users?.map((user) => ({ ...user, key: user.id })) || []}\n      />\n    </Container>\n  );\n};\nProjectListScreen.whyDidYouRender = false;\nconst Container = styled.div`\n  padding: 3.2rem;\n  flex: 1;\n  overflow-y: scroll;\n`;\n","var _image;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgSoftwareLogo(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    width: \"230px\",\n    height: \"33px\",\n    viewBox: \"0 0 230 33\",\n    enableBackground: \"new 0 0 230 33\",\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _image || (_image = /*#__PURE__*/React.createElement(\"image\", {\n    id: \"image0\",\n    width: 230,\n    height: 33,\n    x: 0,\n    y: 0,\n    href: \"data:image/png;base64,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 vzpW60bdCjPeRJ1f4pX03zvq8pDYz8GNGe/XV+l/Sfw/3nlWCMpGUo8AAAAldEVYdGRhdGU6Y3Jl YXRlADIwMjEtMTAtMThUMTQ6MTE6MTYrMDg6MDCTUk8tAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIx LTEwLTE4VDE0OjExOjE2KzA4OjAw4g/3kQAAACB0RVh0c29mdHdhcmUAaHR0cHM6Ly9pbWFnZW1h Z2ljay5vcme8zx2dAAAAGHRFWHRUaHVtYjo6RG9jdW1lbnQ6OlBhZ2VzADGn/7svAAAAF3RFWHRU aHVtYjo6SW1hZ2U6OkhlaWdodAAzM1/zyGIAAAAXdEVYdFRodW1iOjpJbWFnZTo6V2lkdGgAMjMw xQsW9wAAABl0RVh0VGh1bWI6Ok1pbWV0eXBlAGltYWdlL3BuZz+yVk4AAAAXdEVYdFRodW1iOjpN VGltZQAxNjM0NTM3NDc2U14UZwAAABJ0RVh0VGh1bWI6OlNpemUAOTkzMEJCItyGvwAAAEV0RVh0 VGh1bWI6OlVSSQBmaWxlOi8vL2FwcC90bXAvaW1hZ2VsYy9pbWd2aWV3Ml85XzE2MzE3NTc1Mjg5 NzEzMDU4XzZfWzBdD9bLswAAAABJRU5ErkJggg==\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSoftwareLogo);\nexport default __webpack_public_path__ + \"static/media/softwareLogo.5710ed16.svg\";\nexport { ForwardRef as ReactComponent };","import React, { HTMLAttributes, ReactNode } from \"react\";\nimport {\n  Draggable,\n  DraggableProps,\n  Droppable,\n  DroppableProps,\n  DroppableProvided,\n  DroppableProvidedProps,\n} from \"react-beautiful-dnd\";\ntype DropProps = Omit<DroppableProps, \"children\"> & {\n  children: ReactNode;\n};\nexport const Drop = ({ children, ...props }: DropProps) => {\n  return (\n    <Droppable {...props}>\n      {(provided) => {\n        if (React.isValidElement(children)) {\n          return React.cloneElement(children, {\n            ...provided.droppableProps,\n            ref: provided.innerRef,\n            provided,\n          });\n        }\n        return <div />;\n      }}\n    </Droppable>\n  );\n};\ntype DropChildProps = Partial<\n  { provided: DroppableProvided } & DroppableProvidedProps\n> &\n  HTMLAttributes<HTMLElement>;\n/**\n * HTMLDivElement,DropChildProps\n * 前者表示函数返回值的类型\n * 后者表示组件属性的类型\n */\nexport const DropChild = React.forwardRef<HTMLDivElement, DropChildProps>(\n  ({ children, ...props }, ref) => (\n    <div ref={ref} {...props}>\n      {children}\n      {props.provided?.placeholder}\n    </div>\n  )\n);\n\ntype DragProps = Omit<DraggableProps, \"children\"> & { children: ReactNode };\nexport const Drag = ({ children, ...props }: DragProps) => {\n  return (\n    <Draggable {...props}>\n      {(provided) => {\n        if (React.isValidElement(children)) {\n          return React.cloneElement(children, {\n            ...provided.draggableProps,\n            ...provided.dragHandleProps,\n            ref: provided.innerRef,\n          });\n        }\n        return <div />;\n      }}\n    </Draggable>\n  );\n};\n","import { TaskType } from \"./../types/task-type\";\nimport { useQuery } from \"react-query\";\nimport { useHttp } from \"./http\";\n\nexport const useTaskTypes = () => {\n  const client = useHttp();\n  return useQuery<TaskType[]>([\"taskTypes\"], () => client(\"taskTypes\"));\n};\n","export default __webpack_public_path__ + \"static/media/bug.5ef1d8d0.svg\";","export default __webpack_public_path__ + \"static/media/task.4aed9db7.svg\";","import { Card, Input } from \"antd\";\nimport React, { useState } from \"react\";\nimport { useAddTask } from \"utils/task\";\nimport { useProjectIdInUrl, useTasksQueryKey } from \"./util\";\n\nexport const CreateTask = ({ kanbanId }: { kanbanId: number }) => {\n  const projectId = useProjectIdInUrl();\n  const { mutateAsync: addTask } = useAddTask(useTasksQueryKey());\n  const [name, setName] = useState(\"\");\n  const [inputMode, setInputMode] = useState(false);\n  const submit = async () => {\n    addTask({ projectId, kanbanId, name });\n    setName(\"\");\n    setInputMode(false);\n  };\n  const toggle = () => setInputMode(!inputMode);\n  if (!inputMode)\n    return (\n      <div style={{ cursor: \"pointer\" }} onClick={toggle}>\n        +创建事务\n      </div>\n    );\n  return (\n    <Card>\n      <Input\n        onBlur={toggle}\n        value={name}\n        autoFocus={true}\n        onChange={(evt) => setName(evt.target.value)}\n        onPressEnter={submit}\n        placeholder=\"需要做些什么\"\n      />\n    </Card>\n  );\n};\n","import React from \"react\";\n\nexport const Mark = ({ name, keyword }: { name: string; keyword: string }) => {\n  const arr = name.split(keyword);\n  if (!keyword) return <>{name}</>;\n  return (\n    <>\n      {arr.map((str, index) => (\n        <span key={index}>\n          {str}\n          {index === arr.length - 1 ? null : (\n            <span style={{ color: \"#257AFD\" }}>{keyword}</span>\n          )}\n        </span>\n      ))}\n    </>\n  );\n};\n","import { Kanban } from \"types/kanban\";\nimport { useTasks } from \"utils/task\";\nimport { useTaskTypes } from \"utils/task-type\";\nimport bugIcon from \"assets/bug.svg\";\nimport taskIcon from \"assets/task.svg\";\nimport styled from \"@emotion/styled\";\nimport { Button, Card, Dropdown, Menu, Modal } from \"antd\";\nimport { useKanbansQueryKey, useTaskModal, useTaskSearchParams } from \"./util\";\nimport { CreateTask } from \"./create-task\";\nimport { Task } from \"types/task\";\nimport { Mark } from \"components/mark\";\nimport { useDeleteKanban } from \"utils/kanban\";\nimport { Row } from \"components/lib\";\nimport React from \"react\";\nimport {\n  Draggable,\n  DraggableProvided,\n  Droppable,\n  DroppableProvided,\n} from \"react-beautiful-dnd\";\n\nconst TaskTypeIcon = ({ id }: { id: number }) => {\n  const { data: taskTypes } = useTaskTypes();\n  const name = taskTypes?.find((taskType) => taskType.id === id)?.name;\n  if (!name) return null;\n  return (\n    <img\n      style={{ marginLeft: \"-1px\", marginTop: \"-5px\" }}\n      alt=\"\"\n      src={name === \"task\" ? taskIcon : bugIcon}\n    />\n  );\n};\n\nconst TaskCard = React.forwardRef<HTMLDivElement, { task: Task }>(\n  ({ task, ...props }, ref) => {\n    const { startEdit } = useTaskModal();\n    const { name: keyword } = useTaskSearchParams();\n    return (\n      <div ref={ref} {...props}>\n        <Card\n          onClick={() => startEdit(task.id)}\n          style={{\n            marginBottom: \"0.5rem\",\n            cursor: \"pointer\",\n          }}\n        >\n          <p>\n            <Mark name={task.name} keyword={keyword} />\n          </p>\n          <TaskTypeIcon id={task.typeId} />\n        </Card>\n      </div>\n    );\n  }\n);\n\nexport const KanbanColumn = React.forwardRef<\n  HTMLDivElement,\n  { kanban: Kanban }\n>(({ kanban, ...props }, ref) => {\n  const { data: allTasks } = useTasks(useTaskSearchParams());\n  const tasks = allTasks?.filter((task) => task.kanbanId === kanban.id);\n  return (\n    <Container ref={ref} {...props}>\n      <Row between={true}>\n        <h3>{kanban.name}</h3>\n        <More kanban={kanban} />\n      </Row>\n\n      <TaskContainer>\n        <Droppable\n          type=\"ROW\"\n          direction=\"vertical\"\n          droppableId={String(kanban.id)}\n        >\n          {(dropProvided: DroppableProvided) => (\n            <div ref={dropProvided.innerRef} {...dropProvided.droppableProps}>\n              {tasks?.map((task, taskIndex) => (\n                <Draggable\n                  key={taskIndex}\n                  index={taskIndex}\n                  draggableId={`drag_${kanban.id}_task${taskIndex}`}\n                >\n                  {(dragProvided: DraggableProvided) => (\n                    <>\n                      <TaskCard\n                        ref={dragProvided.innerRef}\n                        {...dragProvided.dragHandleProps}\n                        {...dragProvided.draggableProps}\n                        task={task}\n                      />\n                    </>\n                  )}\n                </Draggable>\n              ))}\n              {dropProvided.placeholder}\n            </div>\n          )}\n        </Droppable>\n        <CreateTask kanbanId={kanban.id} />\n      </TaskContainer>\n    </Container>\n  );\n});\nconst More = ({ kanban }: { kanban: Kanban }) => {\n  const { mutateAsync } = useDeleteKanban(useKanbansQueryKey());\n  const startDelete = () => {\n    Modal.confirm({\n      title: \"确定删除看板吗\",\n      okText: \"确定\",\n      cancelText: \"取消\",\n      onOk() {\n        mutateAsync({ id: kanban.id });\n      },\n    });\n  };\n  const overlay = (\n    <Menu>\n      <Menu.Item key=\"delete\">\n        <Button type=\"link\" onClick={startDelete}>\n          删除\n        </Button>\n      </Menu.Item>\n    </Menu>\n  );\n  return (\n    <Dropdown overlay={overlay}>\n      <Button type=\"link\">...</Button>\n    </Dropdown>\n  );\n};\n\nexport const Container = styled.div`\n  min-width: 27rem;\n  border-radius: 6px;\n  background-color: rgb(244, 245, 247);\n  display: flex;\n  flex-direction: column;\n  padding: 0.7rem 0.7rem 1rem;\n  margin-right: 1.5rem;\n`;\nconst TaskContainer = styled.div`\n  overflow: scroll;\n  flex: 1;\n  ::-webkit-scrollbar {\n    display: none;\n  }\n`;\n","import { Input } from \"antd\";\nimport { useState } from \"react\";\nimport { useAddKanban } from \"utils/kanban\";\nimport { Container } from \"./kanban-column\";\nimport { useKanbansQueryKey, useProjectIdInUrl } from \"./util\";\n\nexport const CreateKanban = () => {\n  const [name, setName] = useState(\"\");\n  const projectId = useProjectIdInUrl();\n  const { mutateAsync: addKanban } = useAddKanban(useKanbansQueryKey());\n  const submit = async () => {\n    await addKanban({ name, projectId });\n    setName(\"\");\n  };\n  return (\n    <Container>\n      <Input\n        placeholder=\"新建看板名称\"\n        onPressEnter={submit}\n        value={name}\n        onChange={(evt) => setName(evt.target.value)}\n      />\n    </Container>\n  );\n};\n","import React, { ComponentProps } from \"react\";\nimport { useTaskTypes } from \"utils/task-type\";\nimport { IdSelect } from \"./id-select\";\n\nexport const TaskTypeSelect = (props: ComponentProps<typeof IdSelect>) => {\n  const { data: taskTypes } = useTaskTypes();\n  return <IdSelect options={taskTypes || []} {...props} />;\n};\n","import { Button, Input } from \"antd\";\nimport { Row } from \"components/lib\";\nimport { TaskTypeSelect } from \"components/task-type-select\";\nimport { UserSelect } from \"components/user-select\";\nimport { useSetUrlSearchParam } from \"utils/url\";\nimport { useTaskSearchParams } from \"./util\";\n\nexport const SearchPanel = () => {\n  const searchParams = useTaskSearchParams();\n  const setSearchParams = useSetUrlSearchParam();\n  const reset = () => {\n    setSearchParams({\n      projectId: undefined,\n      typeId: undefined,\n      tagId: undefined,\n      name: undefined,\n      processorId: undefined,\n    });\n  };\n  return (\n    <Row marginBottom={4} gap={3}>\n      <Input\n        style={{ width: \"20rem\" }}\n        placeholder=\"任务名\"\n        value={searchParams.name}\n        onChange={(evt) => setSearchParams({ name: evt.target.value })}\n      />\n      <UserSelect\n        defaultOptionName=\"经办人\"\n        value={searchParams.processorId}\n        onChange={(processorId) => setSearchParams({ processorId })}\n      />\n      <TaskTypeSelect\n        defaultOptionName=\"类型\"\n        value={searchParams.typeId}\n        onChange={(typeId) => setSearchParams({ typeId })}\n      />\n      <Button onClick={reset}>清除筛选器</Button>\n    </Row>\n  );\n};\n","import { Button, Form, Input, Modal } from \"antd\";\nimport { useForm } from \"antd/lib/form/Form\";\nimport { TaskTypeSelect } from \"components/task-type-select\";\nimport { UserSelect } from \"components/user-select\";\nimport { useEffect } from \"react\";\nimport { useDeleteTask, useEditTask } from \"utils/task\";\nimport { useTaskModal, useTasksQueryKey } from \"./util\";\n\nconst layout = {\n  labelCol: { span: 8 },\n  wrapperCol: { span: 16 },\n};\n\nexport const TaskModal = () => {\n  const [form] = useForm();\n  const { editingTask, editingTaskId, close } = useTaskModal();\n  const { mutateAsync: editTask, isLoading: editingLoading } = useEditTask(\n    useTasksQueryKey()\n  );\n  const { mutateAsync: deleteTask, isLoading: deleteLoading } = useDeleteTask(\n    useTasksQueryKey()\n  );\n  const onCancel = () => {\n    close();\n    form.resetFields();\n  };\n  const onOk = async () => {\n    await editTask({ ...editingTask, ...form.getFieldsValue() });\n    close();\n  };\n  const startDelete = () => {\n    Modal.confirm({\n      title: \"确定删除任务吗\",\n      okText: \"确定\",\n      cancelText: \"取消\",\n      async onOk() {\n        await deleteTask({ id: Number(editingTaskId) });\n        close();\n      },\n    });\n  };\n  useEffect(() => {\n    form.setFieldsValue(editingTask);\n  }, [form, editingTask]);\n  return (\n    <Modal\n      forceRender={true}\n      confirmLoading={editingLoading}\n      cancelText=\"取消\"\n      okText=\"确定\"\n      title=\"编辑任务\"\n      onCancel={onCancel}\n      onOk={async () => {\n        form.validateFields();\n        onOk();\n      }}\n      visible={Boolean(editingTaskId)}\n    >\n      <Form form={form} initialValues={editingTask} {...layout}>\n        <Form.Item\n          name=\"name\"\n          label=\"事务名\"\n          rules={[{ required: true, message: \"请输入事务名\" }]}\n        >\n          <Input placeholder=\"请输入事务名称\" />\n        </Form.Item>\n        <Form.Item name=\"processor\" label=\"经办人\">\n          <UserSelect defaultOptionName=\"经办人\" />\n        </Form.Item>\n        <Form.Item name=\"typeId\" label=\"类型\">\n          <TaskTypeSelect />\n        </Form.Item>\n      </Form>\n      <div style={{ textAlign: \"right\" }}>\n        <Button\n          loading={deleteLoading}\n          style={{ fontSize: \"14px\" }}\n          size=\"small\"\n          onClick={startDelete}\n        >\n          删除\n        </Button>\n      </div>\n    </Modal>\n  );\n};\n","import styled from \"@emotion/styled\";\nimport { Spin } from \"antd\";\nimport { Drag, Drop, DropChild } from \"components/drag-and-drop\";\nimport { ScreenContainer } from \"components/lib\";\nimport { useCallback } from \"react\";\nimport { DragDropContext, DropResult } from \"react-beautiful-dnd\";\nimport { useReorderTask, useTasks } from \"utils/task\";\nimport { useDocumentTitle } from \"../../utils\";\nimport { useKanbans, useReorderKanban } from \"../../utils/kanban\";\nimport { CreateKanban } from \"./create-kanban\";\nimport { KanbanColumn } from \"./kanban-column\";\nimport { SearchPanel } from \"./search-panel\";\nimport { TaskModal } from \"./task-modal\";\nimport {\n  useKanbansQueryKey,\n  useKanbansSearchParams,\n  useProjectInUrl,\n  useTaskSearchParams,\n  useTasksQueryKey,\n} from \"./util\";\n\nexport const KanbanScreen = () => {\n  useDocumentTitle(\"看板列表\");\n  const { data: currentProject } = useProjectInUrl();\n  const { data: kanbans, isLoading: kanbanIsLoading } = useKanbans(\n    useKanbansSearchParams()\n  );\n  const isLoading = kanbanIsLoading;\n  const onDropEnd = useDragEnd();\n  return (\n    <DragDropContext onDragEnd={onDropEnd}>\n      <ScreenContainer>\n        <h1>{currentProject?.name}看板</h1>\n        <SearchPanel />\n        {isLoading ? (\n          <Spin size=\"large\" />\n        ) : (\n          <ColumnsContainer>\n            <Drop type=\"COLUMN\" direction=\"horizontal\" droppableId=\"kanban\">\n              <DropChild style={{ display: \"flex\" }}>\n                {kanbans?.map((kanban, index) => (\n                  <Drag\n                    key={kanban.id}\n                    draggableId={`drag_column_kanban${kanban.id}`}\n                    index={index}\n                  >\n                    <KanbanColumn kanban={kanban} />\n                  </Drag>\n                ))}\n              </DropChild>\n            </Drop>\n            <CreateKanban />\n          </ColumnsContainer>\n        )}\n        <TaskModal />\n      </ScreenContainer>\n    </DragDropContext>\n  );\n};\nexport const ColumnsContainer = styled.div`\n  flex: 1;\n  display: flex;\n  overflow-x: scroll;\n`;\nexport const useDragEnd = () => {\n  const { mutate: reorderKanban } = useReorderKanban(useKanbansQueryKey());\n  const { mutate: reorderTask } = useReorderTask(useTasksQueryKey());\n  const { data: kanbans } = useKanbans(useKanbansSearchParams());\n  const { data: tasks = [] } = useTasks(useTaskSearchParams());\n  return useCallback(\n    ({ source, destination, type }: DropResult) => {\n      if (!destination) return;\n      if (type === \"COLUMN\") {\n        const fromId = kanbans?.[source.index].id;\n        const referenceId = kanbans?.[destination.index].id;\n        const type = source.index < destination.index ? \"after\" : \"before\";\n        reorderKanban({\n          fromId: fromId as number,\n          referenceId: referenceId as number,\n          type,\n        });\n      }\n      if (type === \"ROW\") {\n        const fromKanbanId = +source.droppableId;\n        const toKanbanId = +destination.droppableId;\n        const fromTask = tasks.filter((task) => task.kanbanId === fromKanbanId)[\n          source.index\n        ];\n        const toTask = tasks.filter((task) => task.kanbanId === toKanbanId)[\n          destination.index\n        ];\n        if (fromTask?.id === toTask?.id) return;\n        reorderTask({\n          fromId: fromTask?.id,\n          referenceId: toTask?.id,\n          fromKanbanId,\n          toKanbanId,\n          type:\n            fromKanbanId === toKanbanId && destination.index > source.index\n              ? \"after\"\n              : \"before\",\n        });\n      }\n    },\n    [kanbans, reorderKanban, reorderTask, tasks]\n  );\n};\n","import { useProjectIdInUrl } from \"screens/Kanban/util\";\n\nexport const useEpicsSearchParams = () => ({\n  projectId: useProjectIdInUrl(),\n});\n\nexport const useEpicsQueryKey = () => [\"epics\", useEpicsSearchParams()];\n","import styled from \"@emotion/styled\";\nimport { Button, Drawer, DrawerProps, Form, Input, Spin } from \"antd\";\nimport { useForm } from \"antd/lib/form/Form\";\nimport { ErrorBox } from \"components/lib\";\nimport { UserSelect } from \"components/user-select\";\nimport { useEffect } from \"react\";\nimport { useProjectIdInUrl } from \"screens/Kanban/util\";\nimport { useAddEpic } from \"utils/epic\";\nimport { useEpicsQueryKey } from \"./utils\";\n\nexport const CreateEpic = (\n  props: Pick<DrawerProps, \"visible\"> & { onClose: () => void }\n) => {\n  const { mutate: addEpic, isLoading, error } = useAddEpic(useEpicsQueryKey());\n  const [form] = useForm();\n  const projectId = useProjectIdInUrl();\n  const onFinish = async (values: any) => {\n    await addEpic({ ...values, projectId });\n    props.onClose();\n  };\n  useEffect(() => {\n    form.resetFields();\n  }, [form, props.visible]);\n  return (\n    <Drawer\n      forceRender={true}\n      destroyOnClose={true}\n      width={\"100%\"}\n      visible={props.visible}\n      onClose={props.onClose}\n    >\n      <Container>\n        {isLoading ? (\n          <Spin size=\"large\" />\n        ) : (\n          <>\n            <h1>创建任务组</h1>\n            <ErrorBox error={error} />\n            <Form\n              form={form}\n              layout=\"vertical\"\n              style={{ width: \"40rem\" }}\n              onFinish={onFinish}\n            >\n              <Form.Item\n                label=\"名称\"\n                name=\"name\"\n                rules={[{ required: true, message: \"请输入项目名称\" }]}\n              >\n                <Input placeholder=\"请输入项目名称\"></Input>\n              </Form.Item>\n              <Form.Item style={{ textAlign: \"right\" }}>\n                <Button loading={isLoading} type=\"primary\" htmlType=\"submit\">\n                  提交\n                </Button>\n              </Form.Item>\n            </Form>\n          </>\n        )}\n      </Container>\n    </Drawer>\n  );\n};\nconst Container = styled.div`\n  flex-direction: column;\n  height: 80vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n","import { QueryKey, useMutation, useQuery } from \"react-query\";\nimport { cleanObject } from \".\";\nimport { Epic } from \"../types/epic\";\nimport { useHttp } from \"./http\";\nimport { useAddConfig, useDeleteConfig } from \"./use-optimistic-options\";\n\nexport const useEpics = (param?: Partial<Epic>) => {\n  const client = useHttp();\n  return useQuery<Epic[]>([\"epics\", param], () =>\n    client(\"epics\", { data: cleanObject(param ?? {}) })\n  );\n};\nexport const useAddEpic = (queryKey: QueryKey) => {\n  const client = useHttp();\n  return useMutation((params: Partial<Epic>) => {\n    return client(`epics`, { data: params, method: \"POST\" });\n  }, useAddConfig(queryKey));\n};\nexport const useDeleteEpic = (queryKey: QueryKey) => {\n  const client = useHttp();\n  return useMutation(\n    ({ id }: { id: number }) => client(`epics/${id}`, { method: \"DELETE\" }),\n    useDeleteConfig(queryKey)\n  );\n};\n","import { Button, List, Modal } from \"antd\";\nimport { Row, ScreenContainer } from \"components/lib\";\nimport dayjs from \"dayjs\";\nimport { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useProjectInUrl } from \"screens/Kanban/util\";\nimport { useDeleteEpic, useEpics } from \"utils/epic\";\nimport { useTasks } from \"utils/task\";\nimport { CreateEpic } from \"./create-epic\";\nimport { useEpicsQueryKey, useEpicsSearchParams } from \"./utils\";\n\nexport const EpicScreen = () => {\n  const { data: currentProject } = useProjectInUrl();\n  const { data: epics } = useEpics(useEpicsSearchParams());\n  const { data: tasks } = useTasks({ projectId: currentProject?.id });\n  const [epicCreateOpen, setEpicCreateOpen] = useState(false);\n  const { mutate: deleteEpic } = useDeleteEpic(useEpicsQueryKey());\n  const handleDeleteEpic = (id: number) => {\n    Modal.confirm({\n      title: \"确定删除任务组吗\",\n      okText: \"确定\",\n      cancelText: \"取消\",\n      onOk() {\n        deleteEpic({ id });\n      },\n    });\n  };\n  return (\n    <ScreenContainer>\n      <Row between={true}>\n        <h1>{currentProject?.name}任务组</h1>\n        <Button\n          onClick={() => {\n            setEpicCreateOpen(true);\n          }}\n        >\n          创建任务组\n        </Button>\n      </Row>\n      <List\n        style={{ overflow: \"scroll\" }}\n        dataSource={epics}\n        itemLayout=\"vertical\"\n        renderItem={(epic) => (\n          <List.Item>\n            <List.Item.Meta\n              title={\n                <Row between={true}>\n                  <span>{epic.name}</span>\n                  <Button onClick={() => handleDeleteEpic(epic.id)} type=\"link\">\n                    删除\n                  </Button>\n                </Row>\n              }\n              description={\n                <div>\n                  <div>开始时间：{dayjs(epic.start).format(\"YYYY-MM-DD\")}</div>\n                  <div>结束时间：{dayjs(epic.start).format(\"YYYY-MM-DD\")}</div>\n                </div>\n              }\n            />\n            <div>\n              {tasks?.map((task) => (\n                <Link\n                  to={`/projects/${task.projectId}/kanban?editingTaskId=${task.id}`}\n                  key={task.id}\n                >\n                  {task.name}\n                </Link>\n              ))}\n            </div>\n          </List.Item>\n        )}\n      />\n      <CreateEpic\n        visible={epicCreateOpen}\n        onClose={() => setEpicCreateOpen(false)}\n      />\n    </ScreenContainer>\n  );\n};\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Navigate, Route, Routes, useLocation } from \"react-router\";\nimport { KanbanScreen } from \"../Kanban\";\nimport { EpicScreen } from \"../Epic\";\nimport styled from \"@emotion/styled\";\nimport { Menu } from \"antd\";\n\nconst useRouteType = () => {\n  const utils = useLocation().pathname.split(\"/\");\n  return utils[utils.length - 1];\n};\n\nexport const ProjectScreen = () => {\n  const routeType = useRouteType();\n  return (\n    <Container>\n      <Aside>\n        <Menu mode=\"inline\" selectedKeys={[routeType]}>\n          <Menu.Item key=\"kanban\">\n            <Link to=\"kanban\">看板</Link>\n          </Menu.Item>\n          <Menu.Item key=\"epic\">\n            <Link to=\"epic\">任务组</Link>\n          </Menu.Item>\n        </Menu>\n      </Aside>\n      <Main>\n        <Routes>\n          <Route path=\"/kanban\" element={<KanbanScreen />}></Route>\n          <Route path=\"/epic\" element={<EpicScreen />}></Route>\n          <Navigate to={`${window.location.pathname}/kanban`} replace={true} />\n        </Routes>\n      </Main>\n    </Container>\n  );\n};\nconst Aside = styled.div`\n  background-color: rgb(244, 245, 247);\n  display: flex;\n`;\nconst Main = styled.div`\n  display: flex;\n  box-shadow: -5px 0 5px -5px rgba(0, 0, 0, 0.1);\n  overflow: hidden;\n`;\nconst Container = styled.div`\n  display: grid;\n  grid-template-columns: 16rem 1fr;\n  width: 100%;\n`;\n","import styled from \"@emotion/styled\";\nimport { Button, Drawer, Form, Input, Spin } from \"antd\";\nimport { useEffect } from \"react\";\nimport { ErrorBox } from \"../../components/lib\";\nimport { UserSelect } from \"../../components/user-select\";\nimport { useAddProject, useEditProject } from \"../../utils/project\";\nimport { useProjectModal, useProjectQueryKey } from \"./util\";\nconst { useForm } = Form;\n\nexport const ProjectModal = () => {\n  const { projectModalOpen, close, editingProject, isLoading } =\n    useProjectModal();\n  const useMutateProject = editingProject ? useEditProject : useAddProject;\n\n  const {\n    mutateAsync,\n    error,\n    isLoading: mutateLoading,\n  } = useMutateProject(useProjectQueryKey());\n  const [form] = useForm();\n  const onFinish = (values: any) => {\n    mutateAsync({ ...editingProject, ...values }).then((res) => {\n      form.resetFields();\n      close();\n    });\n  };\n\n  const title = editingProject ? \"编辑项目\" : \"创建项目\";\n\n  useEffect(() => {\n    form.setFieldsValue(editingProject);\n  }, [editingProject, form]);\n  return (\n    <Drawer\n      width=\"100%\"\n      visible={projectModalOpen}\n      onClose={() => {\n        form.resetFields();\n        close();\n      }}\n      forceRender={true}\n    >\n      <Container>\n        {isLoading ? (\n          <Spin size=\"large\" />\n        ) : (\n          <>\n            <h1>{title}</h1>\n            <ErrorBox error={error} />\n            <Form\n              form={form}\n              layout=\"vertical\"\n              style={{ width: \"40rem\" }}\n              onFinish={onFinish}\n            >\n              <Form.Item\n                label=\"名称\"\n                name=\"name\"\n                rules={[{ required: true, message: \"请输入项目名称\" }]}\n              >\n                <Input placeholder=\"请输入项目名称\"></Input>\n              </Form.Item>\n              <Form.Item\n                label=\"部门\"\n                name=\"organization\"\n                rules={[{ required: true, message: \"请输入部门名称\" }]}\n              >\n                <Input placeholder=\"请输入部门名称\"></Input>\n              </Form.Item>\n              <Form.Item label=\"负责人\" name=\"personId\">\n                <UserSelect defaultOptionName=\"负责人\" />\n              </Form.Item>\n              <Form.Item style={{ textAlign: \"right\" }}>\n                <Button\n                  loading={mutateLoading}\n                  type=\"primary\"\n                  htmlType=\"submit\"\n                >\n                  提交\n                </Button>\n              </Form.Item>\n            </Form>\n          </>\n        )}\n      </Container>\n    </Drawer>\n  );\n};\n\nconst Container = styled.div`\n  flex-direction: column;\n  height: 80vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n","import styled from \"@emotion/styled\";\nimport { Divider, List, Popover, Typography } from \"antd\";\nimport { useProjectModal } from \"../screens/project-list/util\";\nimport { useProjects } from \"../utils/project\";\nimport { ButtonNoPadding, CursorSpan } from \"./lib\";\n\nexport const ProjectPopover = () => {\n  const { open } = useProjectModal();\n  const { data: projects } = useProjects();\n  const pinnedProjects = projects?.filter((project) => project.pin);\n  const content = (\n    <ContentContainer>\n      <Typography.Text type=\"secondary\">收藏项目</Typography.Text>\n      <List>\n        {pinnedProjects?.map((project) => (\n          <List.Item key={project.id}>\n            <List.Item.Meta title={project.name} />\n          </List.Item>\n        ))}\n      </List>\n      <Divider />\n      <ButtonNoPadding onClick={open} type=\"link\">\n        创建项目\n      </ButtonNoPadding>\n    </ContentContainer>\n  );\n  return (\n    <Popover placement=\"bottom\" content={content}>\n      <CursorSpan>项目</CursorSpan>\n    </Popover>\n  );\n};\nconst ContentContainer = styled.div`\n  min-width: 30rem;\n`;\n","import styled from \"@emotion/styled\";\nimport { Divider, List, Popover, Typography } from \"antd\";\nimport { useUsers } from \"utils/user\";\nimport { CursorSpan } from \"./lib\";\n\nexport const UserPopover = () => {\n  const { data: users } = useUsers();\n  const content = (\n    <ContentContainer>\n      <Typography.Text type=\"secondary\">组员列表</Typography.Text>\n      <List>\n        {users?.map((user) => (\n          <List.Item key={user.id}>\n            <List.Item.Meta title={user.name} />\n          </List.Item>\n        ))}\n      </List>\n      <Divider />\n    </ContentContainer>\n  );\n  return (\n    <Popover placement=\"bottom\" content={content}>\n      <CursorSpan>组员</CursorSpan>\n    </Popover>\n  );\n};\nconst ContentContainer = styled.div`\n  min-width: 30rem;\n`;\n","import { ProjectListScreen } from \"./screens/project-list\";\nimport { Button, Dropdown, Menu } from \"antd\";\nimport { useAuth } from \"./context/auth-context\";\nimport styled from \"@emotion/styled\";\nimport { ButtonNoPadding, Row } from \"./components/lib\";\nimport { ReactComponent as SoftwareLogo } from \"./assets/softwareLogo.svg\";\nimport { Navigate, Routes, Route } from \"react-router\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport { ProjectScreen } from \"./screens/project\";\nimport { resetRoute } from \"./utils\";\nimport { ProjectModal } from \"./screens/project-list/project-modal\";\nimport { ProjectPopover } from \"./components/project-popover\";\nimport { UserPopover } from \"components/user-popover\";\n\nexport const AuthenticatedApp = () => {\n  return (\n    <Container>\n      <Router>\n        <PageHeader />\n        <Main>\n          <Routes>\n            <Route path=\"/projects\" element={<ProjectListScreen />} />\n            <Route path=\"/projects/:projectId/*\" element={<ProjectScreen />} />\n            <Navigate to=\"/projects\" replace={true} />\n          </Routes>\n        </Main>\n        <ProjectModal />\n      </Router>\n    </Container>\n  );\n};\nconst PageHeader = () => {\n  return (\n    <Header between={true}>\n      <HeaderLeft gap={true}>\n        <ButtonNoPadding\n          style={{ display: \"flex\", alignItems: \"center\" }}\n          type=\"link\"\n          onClick={resetRoute}\n        >\n          <SoftwareLogo width=\"18rem\" color=\"rgb(38,132,255)\" />\n        </ButtonNoPadding>\n        <ProjectPopover />\n        <UserPopover />\n      </HeaderLeft>\n      <HeaderRight>\n        <User />\n      </HeaderRight>\n    </Header>\n  );\n};\n\nconst User = () => {\n  const { logout, user } = useAuth();\n  return (\n    <Dropdown\n      overlay={\n        <Menu>\n          <Menu.Item key=\"logout\">\n            <Button type=\"link\" onClick={logout}>\n              登出\n            </Button>\n          </Menu.Item>\n        </Menu>\n      }\n    >\n      <Button type=\"link\" onClick={(e) => e.preventDefault()}>\n        Hi,{user?.name}~\n      </Button>\n    </Dropdown>\n  );\n};\n\nconst Container = styled.div`\n  display: grid;\n  grid-template-rows: 6rem 1fr;\n  height: 100vh;\n`;\nconst Header = styled(Row)`\n  /* background-color: gray; */\n  padding: 3.2rem;\n  box-shadow: 0 0 5px 0 rgba(0, 0, 0, 0.1);\n  z-index: 1;\n  /* height: 6rem; */\n`;\nconst HeaderLeft = styled(Row)``;\n\nconst HeaderRight = styled.div``;\nconst Main = styled.main`\n  /* height: calc(100vh - 6rem); */\n  display: flex;\n  overflow: hidden;\n`;\n","import React, { Component, PropsWithChildren } from \"react\";\n\ntype FallbackRender = (props: { error: Error | null }) => React.ReactElement;\nexport class ErrorBoundary extends Component<\n  PropsWithChildren<{ fallbackRender: FallbackRender }>, //等同于{children: ReactNode, fallbackRender: FallbackRender}\n  { error: Error | null }\n> {\n  state = { error: null };\n  static getDerivedStateFromError(error: Error) {\n    return { error };\n  }\n  render() {\n    const { error } = this.state;\n    const { fallbackRender, children } = this.props;\n    if (error) {\n      return fallbackRender({ error });\n    }\n    return children;\n  }\n}\n","import { useAuth } from \"../context/auth-context\";\nimport { Form, Input } from \"antd\";\nimport { LongButton } from \".\";\nimport { useAsync } from \"../utils/use-async\";\nexport const Login = ({ onError }: { onError: (error: Error) => void }) => {\n  const { login, user } = useAuth();\n  const { run, isLoading } = useAsync(undefined, { throwOnError: true });\n  const submitHandler = async (values: {\n    username: string;\n    password: string;\n  }) => {\n    try {\n      await run(login(values));\n    } catch (e) {\n      onError(e as Error);\n    }\n  };\n  return (\n    <Form onFinish={submitHandler}>\n      <Form.Item\n        name=\"username\"\n        rules={[{ required: true, message: \"请输入用户名\" }]}\n      >\n        <Input placeholder=\"用户名\" type=\"text\" id=\"username\" />\n      </Form.Item>\n      <Form.Item\n        name=\"password\"\n        rules={[{ required: true, message: \"请输入密码\" }]}\n      >\n        <Input placeholder=\"密码\" type=\"password\" id=\"password\" />\n      </Form.Item>\n      <LongButton loading={isLoading} block type=\"primary\" htmlType=\"submit\">\n        登录\n      </LongButton>\n    </Form>\n  );\n};\n","import { Form, Input } from \"antd\";\nimport { LongButton } from \".\";\nimport { useAuth } from \"../context/auth-context\";\nexport const Register = ({ onError }: { onError: (error: Error) => void }) => {\n  const { register, user } = useAuth();\n  const submitHandler = async ({\n    cpassword,\n    ...values\n  }: {\n    username: string;\n    password: string;\n    cpassword: string;\n  }) => {\n    if (cpassword !== values.password) {\n      return onError(new Error(\"请确认两次输入的密码相同\"));\n    }\n    try {\n      await register(values);\n    } catch (e) {\n      onError(e as Error);\n    }\n  };\n  return (\n    <Form onFinish={submitHandler}>\n      <Form.Item\n        name=\"username\"\n        rules={[{ required: true, message: \"请输入用户名\" }]}\n      >\n        <Input placeholder=\"用户名\" type=\"text\" id=\"username\" />\n      </Form.Item>\n      <Form.Item\n        name=\"password\"\n        rules={[{ required: true, message: \"请输入密码\" }]}\n      >\n        <Input placeholder=\"密码\" type=\"password\" id=\"password\" />\n      </Form.Item>\n      <Form.Item\n        name=\"cpassword\"\n        rules={[{ required: true, message: \"请确认密码\" }]}\n      >\n        <Input placeholder=\"确认密码\" type=\"password\" id=\"cpassword\" />\n      </Form.Item>\n      <LongButton type=\"primary\" htmlType=\"submit\">\n        注册\n      </LongButton>\n    </Form>\n  );\n};\n","export default __webpack_public_path__ + \"static/media/logo.cbf8e2e3.svg\";","export default __webpack_public_path__ + \"static/media/left.96d5d42a.svg\";","export default __webpack_public_path__ + \"static/media/right.044a205f.svg\";","import { useState } from \"react\";\nimport { Login } from \"./login\";\nimport { Register } from \"./register\";\nimport { Button, Card, Divider } from \"antd\";\nimport styled from \"@emotion/styled\";\nimport logo from \"../assets/logo.svg\";\nimport left from \"../assets/left.svg\";\nimport right from \"../assets/right.svg\";\nimport { useDocumentTitle } from \"../utils\";\nimport { ErrorBox } from \"../components/lib\";\n// import { Helmet } from \"react-helmet\";\n\nexport const UnauthenticatedApp = () => {\n  const [isRegister, setIsRegister] = useState(false);\n  const [error, setError] = useState<Error | null>(null);\n  useDocumentTitle(\"请登录或注册以继续\", false);\n  return (\n    <Container>\n      {/* <Helmet>\n        <title>请登录或注册以继续</title>\n      </Helmet> */}\n      <Header />\n      <Background />\n      <ShadowCard>\n        <Title>{isRegister ? \"请注册\" : \"请登录\"}</Title>\n        <ErrorBox error={error} />\n        {isRegister ? (\n          <Register onError={setError} />\n        ) : (\n          <Login onError={setError} />\n        )}\n        <Divider />\n        <Button type=\"link\" onClick={() => setIsRegister(!isRegister)}>\n          切换到\n          {isRegister ? \"已经有账号了？直接登录\" : \"没有账号？注册新账号\"}\n        </Button>\n      </ShadowCard>\n    </Container>\n  );\n};\nexport const LongButton = styled(Button)`\n  width: 100%;\n`;\nconst Title = styled.h2`\n  margin-bottom: 2.4rem;\n  color: rgb(94, 108, 132);\n`;\nconst Background = styled.div`\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  background-repeat: no-repeat;\n  background-attachment: fixed;\n  background-size: calc(((100vw - 40rem) / 2) - 3.2rem),\n    calc(((100vw - 40rem) / 2) - 3.2rem), cover;\n  background-position: left bottom, right bottom;\n  background-image: url(${left}), url(${right});\n`;\nconst Header = styled.header`\n  background: url(${logo}) no-repeat center;\n  padding: 5rem 0;\n  background-size: 8rem;\n  width: 100%;\n`;\nconst ShadowCard = styled(Card)`\n  width: 40rem;\n  min-height: 56rem;\n  padding: 3.2rem 4rem;\n  border-radius: 0.3rem;\n  box-sizing: border-box;\n  box-shadow: rgba(0, 0, 0, 0.1) 0 0 10px;\n  text-align: center;\n`;\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  min-height: 100vh;\n`;\n","import \"./App.css\";\nimport { AuthenticatedApp } from \"./authenticated-app\";\nimport { ErrorBoundary } from \"./components/error.boundary\";\nimport { FullPageErrorFallback } from \"./components/lib\";\nimport { useAuth } from \"./context/auth-context\";\nimport { UnauthenticatedApp } from \"./unauthenticated-app\";\n\nfunction App() {\n  const { user } = useAuth();\n  return (\n    <div className=\"App\">\n      <ErrorBoundary fallbackRender={FullPageErrorFallback}>\n        {user ? <AuthenticatedApp /> : <UnauthenticatedApp />}\n      </ErrorBoundary>\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { ReactNode } from \"react\";\nimport { AuthProvider } from \"./auth-context\";\nimport { QueryClientProvider, QueryClient } from \"react-query\";\nexport const AppProviders = ({ children }: { children: ReactNode }) => {\n  return (\n    <QueryClientProvider client={new QueryClient()}>\n      <AuthProvider>{children}</AuthProvider>\n    </QueryClientProvider>\n  );\n};\n","import \"./wdyr\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { DevTools, loadServer } from \"jira-dev-tool\";\nimport \"antd/dist/antd.less\";\nimport { AppProviders } from \"./context\";\n\nloadServer(() =>\n  ReactDOM.render(\n    <React.StrictMode>\n      <AppProviders>\n        <DevTools />\n        <App />\n      </AppProviders>\n    </React.StrictMode>,\n    document.getElementById(\"root\")\n  )\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n//这是主分支的代码\n"],"sourceRoot":""}